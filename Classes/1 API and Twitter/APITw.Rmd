---
title: "APIs and Twitter"
output: github_document
---

![](API0.png)

What is an API and why Computational Social Scientists use API?

![](API1.png)

API is first and foremost a source of observational data.

---

Before digging into API and Twitter, let's explore the concept of

### R Packages that allow to connect and download observational data

First of all, let be sure that "pacman" is installed in your library.
With pacman we will install and activate some useful packages

```{r}
pacman::p_load("owidR",
               "gutenbergr",
               "academictwitteR")
```

[Our World in Data](https://ourworldindata.org/) is a repository for demographic and socio-economical data.

It has only few functions. The fastest way to explore all of them is to digit `owidR::` in a script or within a chunk.

The fast way to use the package `owidR` is in two steps.

- STEP 1: run the function `owid_search("")` with the "empty string" argument:
```{r}
owid_search("") %>% View()
```

You can than filter results with the Filter of R Studio.
Once some datasets interest you, copy-paste the `chart id` value.

- STEP 2: retrive the dataset with the function `owid_search("[chart id]")`, with the specific value that you selected 


```{r}
owid("pupil-teacher-ratio-for-primary-education-by-country") -> Education
```

---

## Project Gutenberg is cool to download old books. Let's look at the tible structure of these.


With this code we are going to count how many book per language are stored in [Project Gutenberg](https://www.gutenberg.org/)

```{r}
pacman::p_load(tidyverse)
gutenberg_metadata %>%
  group_by(language) %>%
  count()
```

The catalogue can be filtered with `tidyverse` functions.

```{r}
gutenberg_metadata %>%
  filter(language == "it",
         title %>% str_detect("Sicil")
         )
```

`gutemberg_id` is the field of values to set as argument for downloading the whole book.

```{r}
gutenberg_download(30984) -> Sicilia
```

This book needs to be cleansed!

```{r}
Sicilia %>% select(text)
```

Usually books in **English** come already cleansed, in **other languages** not.

---
Napoleone Colajanni (1847 - 1921): Sicilian sociologist.

He wrote about crime and racism and was a rival to Cesare Lombroso.
---


